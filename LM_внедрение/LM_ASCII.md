# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ LM –°–∏—Å—Ç–µ–º—ã (ASCII –î–∏–∞–≥—Ä–∞–º–º–∞)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã LM (Learning/Logic Model).

## 1. –û–±—â–∞—è –°—Ö–µ–º–∞ –ü–æ—Ç–æ–∫–æ–≤ –î–∞–Ω–Ω—ã—Ö (Data Flow)

```ascii
                                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                      ‚îÇ   –í–Ω–µ—à–Ω–∏–π –ú–∏—Ä    ‚îÇ
                                      ‚îÇ (–ó–≤–æ–Ω–∫–∏, –ö–ª–∏–µ–Ω—Ç—ã)‚îÇ
                                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                               ‚îÇ
                                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                   OPERATOR BOT                                  ‚îÇ
‚îÇ                                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Call History ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   LM SERVICE   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ         LM VALUE          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)‚îÇ       ‚îÇ (–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)‚îÇ       ‚îÇ (–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏) ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ         ‚ñ≤                       ‚îÇ                              ‚îÇ                ‚îÇ
‚îÇ         ‚îÇ                       ‚îÇ                              ‚îÇ                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚ñº                              ‚ñº                ‚îÇ
‚îÇ  ‚îÇ Call Scores  ‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ (–û—Ü–µ–Ω–∫–∏ AI)  ‚îÇ       ‚îÇ   LM WORKER    ‚îÇ       ‚îÇ      METRICS SERVICE      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ (–§–æ–Ω–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç)‚îÇ       ‚îÇ (–ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å)  ‚îÇ  ‚îÇ
‚îÇ                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                ‚îÇ                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                 ‚îÇ
                                                                 ‚ñº
                                                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                       ‚îÇ  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å /  ‚îÇ
                                                       ‚îÇ     –î–∞—à–±–æ—Ä–¥      ‚îÇ
                                                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. –î–µ—Ç–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ú–æ–¥—É–ª–µ–π

```ascii
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                  APP LAYER                                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     DATA SOURCE      ‚îÇ       LOGIC / COMPUTE        ‚îÇ        STORAGE         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      ‚îÇ                              ‚îÇ                        ‚îÇ
‚îÇ 1. CallHistoryRecord ‚îÇ  2. LMService                ‚îÇ  3. LMRepository       ‚îÇ
‚îÇ    [app/db/models]   ‚îÇ     [app/services/lm_service]‚îÇ     [app/db/repos]     ‚îÇ
‚îÇ                      ‚îÇ                              ‚îÇ                        ‚îÇ
‚îÇ  ‚Ä¢ talk_duration     ‚îÇ  ‚Ä¢ calculate_operational()   ‚îÇ  ‚Ä¢ save_lm_value()     ‚îÇ
‚îÇ  ‚Ä¢ wait_time         ‚îÇ    ‚Üí response_speed          ‚îÇ    (INSERT/UPDATE)     ‚îÇ
‚îÇ  ‚Ä¢ operator_id       ‚îÇ    ‚Üí talk_efficiency         ‚îÇ                        ‚îÇ
‚îÇ                      ‚îÇ                              ‚îÇ  ‚Ä¢ get_aggregated()    ‚îÇ
‚îÇ 4. CallRecord        ‚îÇ  ‚Ä¢ calculate_conversion()    ‚îÇ    (AVG, MIN, MAX)     ‚îÇ
‚îÇ    (Call Scores)     ‚îÇ    ‚Üí conversion_score        ‚îÇ                        ‚îÇ
‚îÇ                      ‚îÇ    ‚Üí lost_opportunity        ‚îÇ                        ‚îÇ
‚îÇ  ‚Ä¢ outcome           ‚îÇ                              ‚îÇ                        ‚îÇ
‚îÇ  ‚Ä¢ call_category     ‚îÇ  ‚Ä¢ calculate_risks()         ‚îÇ                        ‚îÇ
‚îÇ  ‚Ä¢ sentiment         ‚îÇ    ‚Üí churn_risk              ‚îÇ                        ‚îÇ
‚îÇ                      ‚îÇ    ‚Üí complaint_risk          ‚îÇ                        ‚îÇ
‚îÇ                      ‚îÇ                              ‚îÇ                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                          ‚îÇ                            ‚îÇ
           ‚ñº                          ‚ñº                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   DATABASE (MySQL)   ‚îÇ   ‚îÇ      LM WORKER       ‚îÇ   ‚îÇ    METRICS SERVICE     ‚îÇ
‚îÇ                      ‚îÇ   ‚îÇ [app/workers/lm...]  ‚îÇ   ‚îÇ [app/services/metrics] ‚îÇ
‚îÇ  Table: call_history ‚îÇ   ‚îÇ                      ‚îÇ   ‚îÇ                        ‚îÇ
‚îÇ  Table: call_scores  ‚îÇ‚óÄ‚îÄ‚îÄ‚î§ ‚Ä¢ process_recent()   ‚îÇ‚óÄ‚îÄ‚îÄ‚î§ ‚Ä¢ get_enhanced()       ‚îÇ
‚îÇ  Table: lm_value     ‚îÇ   ‚îÇ ‚Ä¢ backfill_data()    ‚îÇ   ‚îÇ   (–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–±—ã—á–Ω—ã–µ  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ    –º–µ—Ç—Ä–∏–∫–∏ —Å LM)       ‚îÇ
                                                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å? (Why & What)

```ascii
+-------------------+---------------------------------------------------------------+
| –ú–û–î–£–õ–¨            | –ó–ê–ß–ï–ú –ù–£–ñ–ï–ù (WHY) & –ß–¢–û –î–ï–õ–ê–ï–¢ (WHAT)                         |
+-------------------+---------------------------------------------------------------+
|                   |                                                               |
| LM Service        | üß† –ú–û–ó–ì –°–ò–°–¢–ï–ú–´                                               |
| (lm_service.py)   | Why: –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å—ã—Ä—ã–µ —Ñ–∞–∫—Ç—ã –≤ –±–∏–∑–Ω–µ—Å-–≤—ã–≤–æ–¥—ã.                  |
|                   | What: –°–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É–ª—ã. –ù–∞–ø—Ä–∏–º–µ—Ä: "–ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –∂–∞–ª–æ–≤–∞–ª—Å—è      |
|                   |       –∏ –∑–≤–æ–Ω–æ–∫ –∫–æ—Ä–æ—Ç–∫–∏–π -> –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞".              |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
|                   |                                                               |
| LM Repository     | üíæ –ü–ê–ú–Ø–¢–¨ –°–ò–°–¢–ï–ú–´                                             |
| (lm_repository.py)| Why: –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å SQL. –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –ë–î –±–µ–∑ –±–æ–ª–∏. |
|                   | What: "–°–æ—Ö—Ä–∞–Ω–∏ –º–µ—Ç—Ä–∏–∫—É", "–î–∞–π —Å—Ä–µ–¥–Ω—é—é –∫–æ–Ω–≤–µ—Ä—Å–∏—é –∑–∞ –Ω–µ–¥–µ–ª—é".   |
|                   |       –£–º–µ–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–∞—á–∫–∞–º–∏ (batch) –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏.           |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
|                   |                                                               |
| LM Worker         | ‚öôÔ∏è –î–í–ò–ì–ê–¢–ï–õ–¨                                                  |
| (lm_calculator...) | Why: –ß—Ç–æ–±—ã –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–≤–æ–Ω–∫–æ–≤.     |
|                   | What: –ü—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, –±–µ—Ä–µ—Ç –Ω–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏,          |
|                   |       –ø—Ä–æ–≥–æ–Ω—è–µ—Ç —á–µ—Ä–µ–∑ Service –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.          |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
|                   |                                                               |
| LM Value Table    | üóÑ –ö–ê–†–¢–û–¢–ï–ö–ê                                                  |
| (MySQL table)     | Why: –•—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö –∫–∞–∂–¥—ã–π —Ä–∞–∑. |
|                   | What: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞. –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ = –æ–¥–Ω–∞ –º–µ—Ç—Ä–∏–∫–∞     |
|                   |       –æ–¥–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞. –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º.               |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
```

---

## 4. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ú–µ—Ç—Ä–∏–∫ (–ß—Ç–æ –º—ã –∏–∑–º–µ—Ä—è–µ–º)

```ascii
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                LM –ú–ï–¢–†–ò–ö–ò                                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ operational            ‚îÇ conversion             ‚îÇ quality                ‚îÇ risk                   ‚îÇ forecast               ‚îÇ aux                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ response_speed_score ‚îÇ ‚Ä¢ conversion_score     ‚îÇ ‚Ä¢ checklist_coverage_  ‚îÇ ‚Ä¢ churn_risk_level     ‚îÇ ‚Ä¢ conversion_prob_     ‚îÇ                        ‚îÇ
‚îÇ                        ‚îÇ                        ‚îÇ   ratio                ‚îÇ                        ‚îÇ   forecast             ‚îÇ                        ‚îÇ
‚îÇ ‚Ä¢ talk_time_efficiency ‚îÇ ‚Ä¢ lost_opportunity_    ‚îÇ ‚Ä¢ normalized_call_     ‚îÇ ‚Ä¢ complaint_risk_flag  ‚îÇ ‚Ä¢ second_call_prob     ‚îÇ                        ‚îÇ
‚îÇ                        ‚îÇ   score                ‚îÇ   score                ‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ
‚îÇ ‚Ä¢ queue_impact_index   ‚îÇ ‚Ä¢ cross_sell_potential ‚îÇ ‚Ä¢ script_risk_index    ‚îÇ ‚Ä¢ followup_needed_flag ‚îÇ ‚Ä¢ complaint_prob       ‚îÇ                        ‚îÇ
‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ ‚Ä¢ lm_version_tag       ‚îÇ
‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ                        ‚îÇ ‚Ä¢ calc_profile         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 5. –ü—Ä–æ—Ü–µ—Å—Å –û–±—Ä–∞–±–æ—Ç–∫–∏ (Pipeline)

1.  **Trigger**: –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫ –≤ `call_history` –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Cron.
2.  **Fetch**: `LM Worker` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∞ + –æ—Ü–µ–Ω–∫–∏ AI (`call_scores`).
3.  **Compute**: `LM Service` –ø—Ä–æ–≥–æ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ 18 —Ñ–æ—Ä–º—É–ª.
    *   *–ü—Ä–∏–º–µ—Ä*: `talk_duration` = 20 —Å–µ–∫ -> `response_speed` = 20 (–ø–ª–æ—Ö–æ).
4.  **Store**: `LM Repository` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç 18 –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü—É `lm_value`.
5.  **Consume**: `Metrics Service` —á–∏—Ç–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã (—Å—Ä–µ–¥–Ω–µ–µ, –º–∞–∫—Å) –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤.
6.  **Action**: –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–†–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞" –≤ Telegram –æ—Ç—á–µ—Ç–µ.
